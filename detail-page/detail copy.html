<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://kenwheeler.github.io/slick/slick/slick.js"></script>
    <link rel="stylesheet" href="./style.css">
    <script src="./script.js"></script>
    <!-- <link rel="preconnect" href="https://fonts.googleapis.com"> -->
    <!-- <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet"> -->
    <script src="https://kit.fontawesome.com/def66b134a.js" crossorigin="anonymous"></script>
    <title>Document</title>
    <style>
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
        }
        .grid img {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
<div class="container">                                                                                                              
<!------------ HEADER START ------------>
    <header class="main-header">
        <div class="header_intrio">
            <div class="header-title">
                <h1 >로고 자리</h1>
            </div>
            <div class="header-content">
        
                <!------------ NAV START ------------>
                <nav class="main-nav">
                    <ul>
                        <li><a href="/24.09.01까지 작업한 내용/2.회원가입/회원가입main.html">회원가입</a></li>
                        <li><a href="/24.09.01까지 작업한 내용/3.login/login.html">로그인</a></li>
                        <li><a href="#">내가 쓴 글</a></li>
                    </ul>
                </nav>     
                <!------------ NAV END ------------>
                <div class="search">
                    <form action="">
                        <!-- <input type="text" class="input-search" value="차 이름을 검색해주세요." id="input-search" onclick="clearTextarea()" >
                        <input type= "submit" class="input-search-submit" value="검색"> -->
                        <div class="search_container">    
                            <input class="search_input" type="text" placeholder="Search">
                        </div>
                    </form>
                </div>                  
            </div>
        </div>
    </header>
<!------------ HEADER END ------------>

<!------------ ASIDE START ------------>
    <!-- <aside>없음</aside> -->
<!------------ ASIDE END ------------>


<!------------ SECTION START ------------>
    <section>
        <div class="car-info-article">
            <div class="car-info-left">
                <h2 id="brand-model"><span id="carModel"></span></h2>
            </div>
            <div class="car-info-right">
                <h2 id="car-price"><span id="price"></span></h2>
            </div>
        </div>

        <!-- --------------------------------------------------------- -->
        <div class="car-image-slider">
            <div class="image-magnified">
                <img id="main-image" src="./imges/1.jfif" alt="Main Image">
            </div>
            <div class="image-list">
                <div class="grid" id="imageGrid">
                    <!-- 이미지가 여기에 동적으로 추가됩니다. -->
                </div>            
            </div>
        </div>
        <!-- ------------------------------------- -------------------- -->

        <div class="info-wrap">
            <div class="basic-info">
                <h3>기본정보</h3>
                <table>
                    <colgroup>
                        <col width="100px">
                        <col width="150px">
                        <col width="100px">
                        <col width="150px">
                    </colgroup>
                    <tbody>
                        <tr>
                            <th>연    식</th>
                            <td><span id="mileage"></span></td>
                            <th>색    상</th>
                            <td><span id="color"></span></td>
                        </tr>
                        <tr>
                            <th>배 기 량</th>
                            <td><span id="displacement"></span></td>
                            <th>상    태</th>
                            <td>민트급</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="seller-info">
                <h3>판매자 정보</h3>
                <table>
                    <colgroup>
                        <col width="150">
                        <col width="150">
                        <col width="200">
                    </colgroup>
                    <tr>
                        <th rowspan="3"><img src="./imges/seller.jpg" alt=""></th>
                        <th>이름</th>
                        <td><span id="userId"></span></td>
                    </tr>
                    <tr>
                        <th>전번</th>
                        <td><span id="phoneNumber"></span></td>
                    </tr>
                </table>
            </div>
        </div>

    </section>
<!------------ SECTION END ------------>
<!-- footer -->

<!-- <footer class="footer">
    <p>푸터입니다</p>
 
</footer> -->
</div> <!-- container end -->
    <script>
        async function fetchData() {
            try {
                const response = await fetch('http://192.168.0.25:8080/carpost/post'); // API 엔드포인트 URL을 입력하세요.
                if (!response.ok) {
                    throw new Error('Network response was not ok ' + response.statusText);
                }
                const data = await response.json();

                // 데이터 업데이트
                document.getElementById('mileage').textContent = data.mileage;
                document.getElementById('color').textContent = data.color;
                document.getElementById('displacement').textContent = data.displacement;
                document.getElementById('userId').textContent = data.userId;
                document.getElementById('phoneNumber').textContent = data.phoneNumber;

                console.log('Fetched Data:', data); // 받아온 데이터 확인
            } catch (error) {
                console.error('Fetch error:', error);
            }
        }

        // 페이지 로드 시 데이터 가져오기
        window.onload = fetchData;

        async function fetchImages() {
            try {
                const response = await fetch('YOUR_API_ENDPOINT_URL'); // API 엔드포인트 URL을 입력하세요.
                if (!response.ok) {
                    throw new Error('Network response was not ok ' + response.statusText);
                }
                const images = await response.json();

                const imageGrid = document.getElementById('imageGrid');
                images.forEach(image => {
                    const imgElement = document.createElement('img');
                    imgElement.src = image.url;
                    imgElement.alt = image.alt || 'Image';
                    imgElement.onclick = () => showImage(imgElement);
                    imageGrid.appendChild(imgElement);
                });

                console.log('Fetched Images:', images); // 받아온 이미지 데이터 확인
            } catch (error) {
                console.error('Fetch error:', error);
            }
        }

        function showImage(imgElement) {
            // 이미지를 클릭했을 때의 동작을 정의합니다.
            alert('이미지 클릭됨: ' + imgElement.src);
        }

        // 페이지 로드 시 이미지 가져오기
        window.onload = fetchImages;
    </script>
</body>
</html>